{"name": "basic_format", "description": "Basic text formatting with default width", "cmd_prep": "echo 'This is a very long line that should be wrapped by the formatter when it exceeds the default line length of seventy two characters.' > tmp_input.txt", "cmd_target": "BINARY tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 1}
{"name": "stdin_format", "description": "Format text from stdin", "cmd_prep": "echo 'This is another very long line that should be wrapped by the formatter when it exceeds the default line length and should work from stdin.' > tmp_input.txt", "cmd_target": "BINARY < tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 2}
{"name": "custom_width", "description": "Format with custom width using -w option", "cmd_prep": "echo 'This is a line that should be wrapped at a custom width when using the -w option.' > tmp_input.txt", "cmd_target": "BINARY -w 40 tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 3}
{"name": "goal_max_width", "description": "Format with goal and maximum width arguments", "cmd_prep": "echo 'This line should be formatted with specific goal and maximum width parameters.' > tmp_input.txt", "cmd_target": "BINARY 30 50 tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 4}
{"name": "preserve_indentation", "description": "Test indentation preservation with -p option", "cmd_prep": "echo -e '    Indented paragraph that should maintain its indentation when formatted.' > tmp_input.txt", "cmd_target": "BINARY -p tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 6}
{"name": "mail_header_mode", "description": "Format text with mail header mode using -m option", "cmd_prep": "echo -e 'From: user@example.com\\nSubject: Test message\\n\\nThis is the body of the email that should be formatted properly.' > tmp_input.txt", "cmd_target": "BINARY -m tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 7}
{"name": "no_format_dots", "description": "Test that lines starting with dots are not formatted by default", "cmd_prep": "echo -e '.This line starts with a dot and should not be formatted.\\nThis line should be formatted normally.' > tmp_input.txt", "cmd_target": "BINARY tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 8}
{"name": "crown_margin", "description": "Test crown margin formatting with -c option", "cmd_prep": "echo -e '    First line with indentation\\nSecond line should align with first' > tmp_input.txt", "cmd_target": "BINARY -c tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 10}
{"name": "split_only", "description": "Test split-only mode with -s option", "cmd_prep": "echo 'This line should be split at spaces but not joined with other lines when using split-only mode.' > tmp_input.txt", "cmd_target": "BINARY -s tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 11}
{"name": "custom_tab_stops", "description": "Test custom tab stops with -t option", "cmd_prep": "printf 'Line\\twith\\ttabs\\tthat\\tshould\\tbe\\texpanded\\tproperly.\\n' > tmp_input.txt", "cmd_target": "BINARY -t 4 tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 12}
{"name": "empty_file", "description": "Format empty file", "cmd_prep": "touch tmp_empty.txt", "cmd_target": "BINARY tmp_empty.txt", "cmd_post": "rm -f tmp_empty.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 14}
{"name": "nonexistent_file", "description": "Test error handling for nonexistent file", "cmd_prep": "# No preparation needed", "cmd_target": "BINARY nonexistent_file.txt", "cmd_post": "# No cleanup needed", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 15}
{"name": "multiple_files", "description": "Test processing multiple files", "cmd_prep": "echo 'First file content that needs formatting.' > tmp_file1.txt && echo 'Second file content that also needs formatting.' > tmp_file2.txt", "cmd_target": "BINARY tmp_file1.txt tmp_file2.txt", "cmd_post": "rm -f tmp_file1.txt tmp_file2.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 20}
{"name": "unicode_text", "description": "Test unicode character handling", "cmd_prep": "printf 'This line contains unicode characters: caf\u00e9, na\u00efve, r\u00e9sum\u00e9, pi\u00f1ata, and \u65e5\u672c\u8a9e text that needs formatting.\\n' > tmp_input.txt", "cmd_target": "BINARY tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 33}
{"name": "combine_all_flags", "description": "Test combining multiple formatting flags", "cmd_prep": "echo -e '    Indented paragraph with text.\\n.Dot line should be formatted.\\nNormal text continues.' > tmp_input.txt", "cmd_target": "BINARY -p -n -c -w 50 tmp_input.txt", "cmd_post": "rm -f tmp_input.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./fmt:", "replacement": ""}, {"pattern": "fmt:", "replacement": ""}, {"pattern": "\\./fmt", "replacement": ""}, {"pattern": "fmt", "replacement": ""}], "idx": 39}
