{"name": "basic_file_copy", "description": "Basic file installation", "cmd_prep": "echo 'test content' > tmp456_source.txt", "cmd_target": "BINARY tmp456_source.txt tmp456_dest.txt", "cmd_post": "cat tmp456_dest.txt; rm -f tmp456_source.txt tmp456_dest.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 1}
{"name": "backup_flag", "description": "Create backup with -b flag", "cmd_prep": "echo 'original' > tmp456_target.txt && echo 'replacement' > tmp456_source.txt", "cmd_target": "BINARY -b tmp456_source.txt tmp456_target.txt", "cmd_post": "cat tmp456_target.txt; cat tmp456_target.txt.old; rm -f tmp456_source.txt tmp456_target.txt tmp456_target.txt.old", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 3}
{"name": "directory_creation", "description": "Create directory with -d flag", "cmd_prep": "true", "cmd_target": "BINARY -d tmp456_newdir", "cmd_post": "ls -ld tmp456_newdir; rmdir tmp456_newdir", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 5}
{"name": "nested_directory_creation", "description": "Create nested directories with -D flag", "cmd_prep": "echo 'content' > tmp456_file.txt", "cmd_target": "BINARY -D tmp456_file.txt tmp456_nested/subdir/target.txt", "cmd_post": "cat tmp456_nested/subdir/target.txt; rm -rf tmp456_file.txt tmp456_nested", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 7}
{"name": "mode_setting", "description": "Set file mode with -m flag", "cmd_prep": "echo 'executable content' > tmp456_script.txt", "cmd_target": "BINARY -m 755 tmp456_script.txt tmp456_executable", "cmd_post": "ls -l tmp456_executable | cut -d' ' -f1; rm -f tmp456_script.txt tmp456_executable", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 8}
{"name": "preserve_if_same", "description": "Copy only if different with -C flag", "cmd_prep": "echo 'same content' > tmp456_src.txt && echo 'same content' > tmp456_dst.txt", "cmd_target": "BINARY -C tmp456_src.txt tmp456_dst.txt", "cmd_post": "cat tmp456_dst.txt; rm -f tmp456_src.txt tmp456_dst.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 10}
{"name": "multiple_files_to_dir", "description": "Install multiple files to directory", "cmd_prep": "mkdir tmp456_target && echo 'file1' > tmp456_f1.txt && echo 'file2' > tmp456_f2.txt", "cmd_target": "BINARY tmp456_f1.txt tmp456_f2.txt tmp456_target/", "cmd_post": "cat tmp456_target/tmp456_f1.txt tmp456_target/tmp456_f2.txt; rm -f tmp456_f1.txt tmp456_f2.txt; rm -rf tmp456_target", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 12}
{"name": "preserve_timestamps", "description": "Preserve timestamps with -p flag", "cmd_prep": "echo 'content' > tmp456_src.txt && touch -t 202201011200 tmp456_src.txt", "cmd_target": "BINARY -p tmp456_src.txt tmp456_dest.txt && stat -c '%Y' tmp456_src.txt tmp456_dest.txt", "cmd_post": "rm -f tmp456_src.txt tmp456_dest.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 16}
{"name": "mode_symbolic", "description": "Set symbolic mode permissions", "cmd_prep": "echo 'content' > tmp456_file.txt", "cmd_target": "BINARY -m u=rwx,g=r,o=r tmp456_file.txt tmp456_symmode.txt && stat -c '%a' tmp456_symmode.txt", "cmd_post": "rm -f tmp456_file.txt tmp456_symmode.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 19}
{"name": "compare_different", "description": "Compare mode - copy when files differ", "cmd_prep": "echo 'original' > tmp456_dest.txt && echo 'different' > tmp456_src.txt", "cmd_target": "BINARY -C tmp456_src.txt tmp456_dest.txt && cat tmp456_dest.txt", "cmd_post": "rm -f tmp456_src.txt tmp456_dest.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 23}
{"name": "fsync_flag", "description": "Test -F flag for filesystem synchronization", "cmd_prep": "echo 'test content' > tmp456_src_f.txt", "cmd_target": "BINARY -F tmp456_src_f.txt tmp456_dest_f.txt", "cmd_post": "cat tmp456_dest_f.txt; rm -f tmp456_src_f.txt tmp456_dest_f.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 1}
{"name": "invalid_mode", "description": "Test invalid mode string", "cmd_prep": "echo 'test' > tmp456_inv.txt", "cmd_target": "BINARY -m invalid_mode tmp456_inv.txt tmp456_out.txt 2>&1 || true", "cmd_post": "rm -f tmp456_inv.txt tmp456_out.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 3}
{"name": "nonexistent_source", "description": "Error handling for nonexistent source", "cmd_prep": "true", "cmd_target": "BINARY tmp456_missing.txt tmp456_dest.txt 2>&1 || true", "cmd_post": "rm -f tmp456_dest.txt", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 13}
{"name": "all_flags_combined", "description": "Test multiple flags together", "cmd_prep": "echo 'original' > tmp456_all_target.txt && echo 'new data' > tmp456_all_source.txt", "cmd_target": "BINARY -F -b -C -p tmp456_all_source.txt tmp456_all_target.txt", "cmd_post": "cat tmp456_all_target.txt; cat tmp456_all_target.txt.old 2>/dev/null || echo 'no backup'; rm -f tmp456_all_*", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 14}
{"name": "custom_backup_suffix", "description": "Custom backup suffix with -B flag", "cmd_prep": "echo 'original' > tmp456_file.txt && echo 'new' > tmp456_src.txt", "cmd_target": "BINARY -b -B .backup tmp456_src.txt tmp456_file.txt", "cmd_post": "cat tmp456_file.txt; cat tmp456_file.txt.backup; rm -f tmp456_src.txt tmp456_file.txt tmp456_file.txt.backup", "norm_rules": [{"pattern": "\\./{progname}:", "replacement": ""}, {"pattern": "{progname}:", "replacement": ""}, {"pattern": "\\./{progname}", "replacement": ""}, {"pattern": "{progname}", "replacement": ""}, {"pattern": "\\./xinstall:", "replacement": ""}, {"pattern": "xinstall:", "replacement": ""}, {"pattern": "\\./xinstall", "replacement": ""}, {"pattern": "xinstall", "replacement": ""}], "idx": 4}
